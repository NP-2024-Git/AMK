<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”® Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ Ø¯Ø± Ø¬Ù†Ú¯Ù„ ØªØ§Ø±ÛŒÚ©</title>
    <style>
        body {
            font-family: 'Cinzel', serif;
            background-color: #014812;
            color: #ffffff;
            text-align: center;
            padding: 20px;
        }
        #game-container {
            max-width: 600px;
            margin: auto;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 20px rgba(255, 255, 255, 0.3);
        }
        .choice-btn {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 12px;
            font-size: 18px;
            border: none;
            background: #ff9800;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }
        .choice-btn:hover {
            background: #e65100;
        }
        .typing {
            display: inline-block;
            border-right: 2px solid white;
            white-space: nowrap;
            overflow: hidden;
            animation: typing 2s steps(40, end), blink-caret 0.8s infinite;
        }
        @keyframes blink-caret {
            50% { border-color: transparent; }
        }
    </style>
</head>
<body>



<div id="game-container">
    <h2>ğŸŒ² Ø¬Ù†Ú¯Ù„ ØªØ§Ø±ÛŒÚ© Ùˆ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡</h2>
    <p id="story-text" class="typing">Ø´Ù…Ø§ Ø¯Ø± Ø¬Ù†Ú¯Ù„ ØªØ§Ø±ÛŒÚ©ÛŒ Ú¯Ù… Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯... ÛŒÚ© ØµØ¯Ø§ÛŒ Ø¹Ø¬ÛŒØ¨ Ù…ÛŒâ€ŒØ´Ù†ÙˆÛŒØ¯... Ø¯Ùˆ Ø±Ø§Ù‡ Ù¾ÛŒØ´ Ø±ÙˆÛŒ Ø´Ù…Ø§Ø³Øª.</p>
    <button class="choice-btn" onclick="makeChoice('left')">ğŸŒ™ Ø±Ø§Ù‡ Ú†Ù¾ (Ù†ÙˆØ± Ú©Ù…â€ŒØ±Ù†Ú¯ÛŒ Ø¯ÛŒØ¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯)</button>
    <button class="choice-btn" onclick="makeChoice('right')">ğŸ”¥ Ø±Ø§Ù‡ Ø±Ø§Ø³Øª (Ø±Ø¯Ù¾Ø§ÛŒ Ø¢ØªØ´ÛŒÙ†)</button>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("bg-music").play();
    });

    function makeChoice(choice) {
        const storyText = document.getElementById('story-text');
        let gameContainer = document.getElementById("game-container");

        if (choice === 'left') {
            gameContainer.style.background = "rgba(0, 0, 50, 0.7)";
            typeText(storyText, "Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ù…Øª Ù†ÙˆØ± Ù…ÛŒâ€ŒØ±ÙˆÛŒØ¯... ÛŒÚ© Ø®Ø§Ù†Ù‡â€ŒÛŒ Ù…ØªØ±ÙˆÚ©Ù‡ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯. Ø¢ÛŒØ§ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯ØŸ");
            updateChoices([
                { text: "ğŸšª ÙˆØ§Ø±Ø¯ Ø®Ø§Ù†Ù‡ Ø´Ùˆ", action: "enter" },
                { text: "ğŸƒ ÙØ±Ø§Ø± Ú©Ù†!", action: "run" }
            ]);
        } 
        else if (choice === 'right') {
            gameContainer.style.background = "rgba(50, 0, 0, 0.7)";
            typeText(storyText, "Ø´Ù…Ø§ Ø§Ø² Ø±Ø¯Ù¾Ø§Ù‡Ø§ÛŒ Ø¢ØªØ´ÛŒÙ† Ù¾ÛŒØ±ÙˆÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯... Ù†Ø§Ú¯Ù‡Ø§Ù† ØµØ¯Ø§ÛŒ ØºØ±Ø´ Ø¨Ù„Ù†Ø¯ÛŒ Ù…ÛŒâ€ŒØ´Ù†ÙˆÛŒØ¯! Ø¢ÛŒØ§ Ù¾Ù†Ù‡Ø§Ù† Ù…ÛŒâ€ŒØ´ÙˆÛŒØ¯ ÛŒØ§ Ù…ÛŒâ€ŒØ¬Ù†Ú¯ÛŒØ¯ØŸ");
            updateChoices([
                { text: "ğŸ¤ Ù¾Ù†Ù‡Ø§Ù† Ø´Ùˆ", action: "hide" },
                { text: "âš”ï¸ Ø¢Ù…Ø§Ø¯Ù‡â€ŒÛŒ Ù†Ø¨Ø±Ø¯!", action: "fight" }
            ]);
        } 
        else if (choice === 'enter') {
            typeText(storyText, "Ø®Ø§Ù†Ù‡ ØªØ§Ø±ÛŒÚ© Ùˆ ØªØ±Ø³Ù†Ø§Ú© Ø§Ø³Øª... Ù†Ø§Ú¯Ù‡Ø§Ù† ÛŒÚ© Ø³Ø§ÛŒÙ‡ Ø¯Ø± Ú¯ÙˆØ´Ù‡â€ŒØ§ÛŒ Ø­Ø±Ú©Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯! Ø¢ÛŒØ§ ÙØ±Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒ ÛŒØ§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ");
            updateChoices([
                { text: "ğŸƒ ÙØ±Ø§Ø± Ø§Ø² Ø®Ø§Ù†Ù‡!", action: "run" },
                { text: "ğŸ”¦ Ø¨Ø±Ø±Ø³ÛŒ Ø³Ø§ÛŒÙ‡", action: "shadow" }
            ]);
        } 
        else if (choice === 'run') {
            typeText(storyText, "Ø´Ù…Ø§ Ø¨Ø§ Ø³Ø±Ø¹Øª ÙØ±Ø§Ø± Ú©Ø±Ø¯ÛŒØ¯ Ùˆ Ø§Ø² Ø¬Ù†Ú¯Ù„ Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯! ğŸ‰ Ø´Ù…Ø§ Ø²Ù†Ø¯Ù‡ Ù…Ø§Ù†Ø¯ÛŒØ¯!");
            clearChoices();
        } 
        else if (choice === 'shadow') {
            typeText(storyText, "ÛŒÚ© Ø±ÙˆØ­ Ù‚Ø¯ÛŒÙ…ÛŒ Ø¯Ø± Ø®Ø§Ù†Ù‡ Ø²Ù†Ø¯Ú¯ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯... Ø´Ù…Ø§ Ø·Ù„Ø³Ù… Ø´Ø¯ÛŒØ¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø± Ø®Ø§Ù†Ù‡ Ù…Ø§Ù†Ø¯ÛŒØ¯! â˜ ï¸ Ù¾Ø§ÛŒØ§Ù† ØªÙ„Ø®!");
            clearChoices();
        } 
        else if (choice === 'hide') {
            typeText(storyText, "Ø´Ù…Ø§ Ù¾Ø´Øª Ø¯Ø±Ø®Øª Ù¾Ù†Ù‡Ø§Ù† Ø´Ø¯ÛŒØ¯... Ø§Ù…Ø§ Ù‡ÛŒÙˆÙ„Ø§ÛŒ Ø¢ØªØ´ÛŒÙ† Ø´Ù…Ø§ Ø±Ø§ Ø¨Ùˆ Ú©Ø´ÛŒØ¯! â˜ ï¸ Ù¾Ø§ÛŒØ§Ù† ØªÙ„Ø®!");
            clearChoices();
        } 
        else if (choice === 'fight') {
            typeText(storyText, "Ø´Ù…Ø§ Ø¨Ø§ Ø´Ù…Ø´ÛŒØ± Ø®ÙˆØ¯ Ø¨Ù‡ Ù‡ÛŒÙˆÙ„Ø§ Ø­Ù…Ù„Ù‡ Ú©Ø±Ø¯ÛŒØ¯ Ùˆ Ø§Ùˆ Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯! ğŸ‰ Ù‚Ù‡Ø±Ù…Ø§Ù† Ø¬Ù†Ú¯Ù„ Ø´Ø¯ÛŒØ¯!");
            clearChoices();
        }
    }

    function typeText(element, text) {
        element.innerHTML = "";
        let i = 0;
        function typingEffect() {
            if (i < text.length) {
                element.innerHTML += text.charAt(i);
                i++;
                setTimeout(typingEffect, 50);
            }
        }
        typingEffect();
    }

    function updateChoices(choices) {
        document.querySelectorAll('.choice-btn').forEach((btn, index) => {
            if (choices[index]) {
                btn.innerText = choices[index].text;
                btn.setAttribute('onclick', `makeChoice('${choices[index].action}')`);
                btn.style.display = "block";
            } else {
                btn.style.display = "none";
            }
        });
    }

    function clearChoices() {
        document.querySelectorAll('.choice-btn').forEach(btn => btn.style.display = "none");
    }
</script>

</body>
</html>
